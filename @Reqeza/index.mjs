var m=Object.defineProperty,l=Object.defineProperties;var C=Object.getOwnPropertyDescriptors;var u=Object.getOwnPropertySymbols;var y=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable;var f=(s,t,e)=>t in s?m(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,c=(s,t)=>{for(var e in t||(t={}))y.call(t,e)&&f(s,e,t[e]);if(u)for(var e of u(t))E.call(t,e)&&f(s,e,t[e]);return s},g=(s,t)=>l(s,C(t));var o=class extends Error{constructor(t){super(t),this.name="ValidationError",this.message=t}toJSON(){return{error:{name:this.name,message:this.message,stacktrace:this.stack}}}};function p(s){if(!s.ok)throw new o(s.statusText);return s}function i(s,t){return Object.hasOwnProperty.call(s,t)}var O=["get","head","put","delete","post","patch","options"],T=["json","text","blob","arrayBuffer","formData"],_=class{constructor(t={},e){this.__options=t;this.__methodsConfig=e;this.__options=t,this.__methodsConfig=e}get __parseURI(){try{let t=!i(this.__options,"PREFIX_URL")||this.__options.PREFIX_URL===null?void 0:typeof this.__options.PREFIX_URL=="object"&&this.__methodsConfig.PREFIX_URL?this.__options.PREFIX_URL[this.__methodsConfig.PREFIX_URL]:Object.values(this.__options.PREFIX_URL)[0],e=new URL(this.__methodsConfig.path,t);return i(this.__methodsConfig,"qs")&&(e.search=new URLSearchParams(this.__methodsConfig.qs).toString()),e}catch(t){throw new o("The given URI is invalid.")}}get __configuration(){let t=new Headers(this.__methodsConfig.headers);return["post","put","patch"].includes(this.__methodsConfig.method)&&i(this.__methodsConfig,"json")&&!i(this.__methodsConfig,"headers['Content-Type']")&&t.append("Content-Type","application/json; charset=UTF-8"),new Request(this.__parseURI.toString(),{method:this.__methodsConfig.method.toLocaleUpperCase(),headers:t,body:Object.hasOwnProperty.call(this.__methodsConfig,"json")?JSON.stringify(this.__methodsConfig.json):this.__methodsConfig.body,signal:this.__methodsConfig.signal})}httpAdapter(){let t=this.__configuration;return fetch(t).then(p).then(async e=>{let h=()=>{let n={};for(let r of e.headers.entries())n[r[0]]=r[1];return n};return{data:await e[this.__methodsConfig.responseType](),headers:h(),status:e.status,statusText:e.statusText,config:t}})}},R={create(s){let t=O.map(e=>({[e]:(h,d)=>{let n="json",r=g(c({},Object.assign({},...T.map(a=>({[a]:()=>(n=a,r)})))),{then(a){return new _(s,c({path:h,method:e,responseType:n},d)).httpAdapter().then(a)}});return r}}));return Object.assign({},...t)}},q=Object.assign(R,R.create());export{q as default};
//# sourceMappingURL=index.mjs.map