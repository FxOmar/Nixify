import { b as b$1 } from './chunk-45JH5YAD.js';

function w(e){return e==null||Object.keys(e).length===0}function d(e,r){let t=new Headers(e);if(r instanceof Headers)r.forEach((s,n)=>{t.append(n,s);});else if(typeof r=="object")for(let[s,n]of Object.entries(r))t.append(s,n);return t}var y=e=>/^[!#$%&'*+\-.^_`|~0-9a-zA-Z]+$/.test(e.trim()),b=e=>typeof e=="object"&&e!==null&&Object.keys(e).every(r=>typeof r=="string"&&y(r)&&typeof e[r]=="string"||Array.isArray(e[r])),f=e=>e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(r,t,s)=>t.toUpperCase()+s),l=e=>e===!1||e==null?e:Array.isArray(e)?e.map(l):String(e),j=e=>Object.fromEntries(Object.entries(e).map(([r,t])=>[f(r),l(t)])),A=(e,r)=>{if(b(r)){let t=j(r);Object.assign(e,{...t});}else throw new TypeError("Invalid headers. Please provide valid headers.")},m={method:!0,headers:!0,body:!0,mode:!0,credentials:!0,cache:!0,redirect:!0,referrer:!0,referrerPolicy:!0,integrity:!0,keepalive:!0,signal:!0,window:!0,dispatcher:!0,duplex:!0},E=e=>{let r={};for(let[t,s]of Object.entries(e))m[t]&&(r[t]=s);return r},x=(e,r,t)=>{let s=e.url?`${e.url}/`.replace(/\/+$/,"/"):void 0,n=r.path.replace(/^\//,""),i=new URL(n,s),o=new AbortController,a=new Headers({...e?.headers});r.headers&&(a=d(a,r.headers)),r?.json&&(r.body=JSON.stringify(r.json),a.append("Content-Type","application/json; charset=UTF-8"),delete r.json),r?.qs&&(i.search=b$1.stringify(r.qs,e?.qs)),delete r.qs;let p=Number.MAX_SAFE_INTEGER;if(typeof e.timeout=="number"&&e.timeout>p)throw new RangeError(`The \`timeout\` option cannot be greater than ${p}`);if(e.timeout=r.timeout??e.timeout??1e4,r.signal){if(!(r.signal instanceof AbortSignal))throw new TypeError(typeof r.signal+" received for signal, but expected an AbortSignal");let c=r.signal;r.signal.addEventListener("abort",()=>{o.abort(c.reason);});}return r.signal=o.signal,{...e,...r,method:t.toLocaleUpperCase(),url:i,headers:a,timeout:r.timeout||e.timeout,signal:r.signal,abortController:o}};

export { w as a, d as b, j as c, A as d, E as e, x as f };
